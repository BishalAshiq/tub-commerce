(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{7448:function(e,t,r){Promise.resolve().then(r.bind(r,5925)),Promise.resolve().then(r.t.bind(r,5768,23)),Promise.resolve().then(r.t.bind(r,8694,23)),Promise.resolve().then(r.t.bind(r,1068,23)),Promise.resolve().then(r.t.bind(r,8547,23)),Promise.resolve().then(r.t.bind(r,123,23)),Promise.resolve().then(r.t.bind(r,4669,23)),Promise.resolve().then(r.t.bind(r,2886,23)),Promise.resolve().then(r.t.bind(r,8332,23)),Promise.resolve().then(r.bind(r,5471)),Promise.resolve().then(r.bind(r,6235))},5471:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var n=r(7437),a=r(2265),i=r(3046),s=r(1396),c=r.n(s),l=()=>{let[e,t]=(0,a.useState)(!1),r=(0,a.useRef)(null),s=e=>{r.current&&!r.current.contains(e.target)&&t(!1)};(0,a.useEffect)(()=>(document.addEventListener("click",s),()=>{document.removeEventListener("click",s)}),[]),(0,i.I0)();let l=(0,i.v9)(e=>e.cart.items);console.log("cartItems",l);let o=l.reduce((e,t)=>e+1*(null==t?void 0:t.calculable_price),0);return l.reduce((e,t)=>e+1*(null==t?void 0:t.discount),0),l.reduce((e,t)=>e+1*(null==t?void 0:t.tax),0),(0,n.jsxs)("div",{className:"add-to-cart",ref:r,children:[(0,n.jsxs)("div",{className:"cart-icon",onClick:()=>{t(!e)},children:[(0,n.jsx)("p",{className:"view-cart-floating",children:"View Cart"}),(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-cart-check",viewBox:"0 0 16 16",children:[(0,n.jsx)("path",{d:"M11.354 6.354a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0z"}),(0,n.jsx)("path",{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1zm3.915 10L3.102 4h10.796l-1.313 7zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0m7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0"})]})]}),e&&(0,n.jsx)("div",{className:"cart-dropdown",children:(0,n.jsxs)("div",{className:"row",children:[(0,n.jsx)("div",{className:"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6",children:(0,n.jsxs)("div",{className:"Add-to-cart-div",children:[0===l.length&&(0,n.jsx)("div",{children:(0,n.jsx)("h5",{className:"text-center",children:"Your cart is empty"})}),l.map((e,t)=>(0,n.jsxs)("div",{className:"floating-add-cart-img-div",children:[(0,n.jsx)("img",{className:"floating-add-cart-img",src:e.thumbnail_image,alt:""}),(0,n.jsx)("div",{className:"cart-icons",children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:[(0,n.jsxs)("g",{"clip-path":"url(#clip0_138_1468)",children:[(0,n.jsx)("path",{d:"M8.11299 0.562439C3.95002 0.562439 0.563477 3.94898 0.563477 8.11195C0.563477 12.2749 3.95002 15.6615 8.11299 15.6615C12.276 15.6615 15.6625 12.2749 15.6625 8.11195C15.6625 3.94898 12.276 0.562439 8.11299 0.562439Z",fill:"#F44336"}),(0,n.jsx)("path",{d:"M10.8932 10.0024C11.1391 10.2485 11.1391 10.646 10.8932 10.8921C10.7705 11.0148 10.6095 11.0764 10.4483 11.0764C10.2873 11.0764 10.1262 11.0148 10.0035 10.8921L8.11304 9.00149L6.22256 10.8921C6.09987 11.0148 5.93883 11.0764 5.77778 11.0764C5.61662 11.0764 5.45558 11.0148 5.3329 10.8921C5.08695 10.646 5.08695 10.2485 5.3329 10.0024L7.2235 8.11195L5.3329 6.22146C5.08695 5.9754 5.08695 5.57786 5.3329 5.3318C5.57896 5.08585 5.9765 5.08585 6.22256 5.3318L8.11304 7.2224L10.0035 5.3318C10.2496 5.08585 10.6471 5.08585 10.8932 5.3318C11.1391 5.57786 11.1391 5.9754 10.8932 6.22146L9.00259 8.11195L10.8932 10.0024Z",fill:"#FAFAFA"})]}),(0,n.jsx)("defs",{children:(0,n.jsx)("clipPath",{id:"clip0_138_1468",children:(0,n.jsx)("rect",{width:"15.099",height:"15.099",fill:"white",transform:"translate(0.563477 0.562439)"})})})]})})]}))]})}),(0,n.jsx)("div",{className:"col-12 col-sm-12 col-md-6 col-lg-6 col-xl-6",children:(0,n.jsx)("div",{className:"cart-amount-full-div",children:(0,n.jsx)(c(),{href:"/cart",children:(0,n.jsxs)("div",{className:"cart-amount-div",children:[(0,n.jsx)("p",{className:"cart-amount-pone",children:"Total:"}),(0,n.jsxs)("p",{className:"cart-amount-pTwo",children:["à§³",o]})]})})})})]})})]})}},4339:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var n=r(5687),a=r(329);let i=(0,n.LC)({reducerPath:"api",baseQuery:(0,a.ni)({baseUrl:"https://tub-backend.nodetechit.com/api/v2",prepareHeaders:(e,t)=>{let{getState:r}=t,n="";return n=localStorage.getItem("refreshToken"),e.set("Authorization","Bearer ".concat(n)),e}}),refetchOnReconnect:!0,tagTypes:["get-all-cart"],endpoints:e=>({})}),{}=i},8344:function(e,t,r){"use strict";r.d(t,{P4:function(){return d},ZP:function(){return h}});var n=r(3135);let{useGetCartQuery:a,useAddToCartMutation:i,useRemoveFromCartMutation:s,useClearCartMutation:c}=r(4339).g.injectEndpoints({endpoints:e=>({getCart:e.query({query:()=>({url:"/cart",method:"GET"})}),addToCart:e.mutation({query:e=>({url:"/saveOrder",method:"POST",body:e}),invalidatesTags:["cart"],clearCart:!0}),removeFromCart:e.mutation({query:e=>({url:"/cart",method:"DELETE",body:e}),invalidatesTags:["cart"]}),clearCart:e.mutation({query:()=>({url:"/cart",method:"DELETE"}),invalidatesTags:["cart"]})})}),l=e=>{localStorage.setItem("cart",JSON.stringify(e))},o=(0,n.oM)({name:"cart",initialState:(()=>{try{let e=localStorage.getItem("cart");return e?JSON.parse(e):{items:[]}}catch(e){return console.error("Error loading cart from localStorage:",e),{items:[]}}})(),reducers:{addToCartFn:(e,t)=>{e.items.push(t.payload),l(e)},removeFromCartFn:(e,t)=>{e.items=e.items.filter(e=>e._id!==t.payload._id),l(e)},clearCartFn:e=>{e.items=[],console.log("state",e.items),l(e)}}}),{addToCartFn:d,removeFromCartFn:u,clearCartFn:m}=o.actions;var h=o.reducer},6235:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return d}});var n=r(7437),a=r(3135),i=r(4339),s=r(8344);let c=(0,a.xC)({reducer:{[i.g.reducerPath]:i.g.reducer,cart:s.ZP},preloadedState:{},devTools:!1,middleware:e=>e({serializableCheck:!1}).concat(i.g.middleware)});var l=r(2265),o=r(3046),d=e=>{let{children:t}=e;return(0,n.jsx)(l.Fragment,{children:(0,n.jsx)(o.zt,{store:c,children:t})})}},1068:function(){},8694:function(){},5768:function(){},8332:function(){},4669:function(){},2886:function(){},8547:function(){},123:function(){},622:function(e,t,r){"use strict";var n=r(2265),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function o(e,t,r){var n,i={},o=null,d=null;for(n in void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:a,type:e,key:o,ref:d,props:i,_owner:c.current}}t.Fragment=i,t.jsx=o,t.jsxs=o},7437:function(e,t,r){"use strict";e.exports=r(622)},1396:function(e,t,r){e.exports=r(5250)}},function(e){e.O(0,[428,250,370,971,938,744],function(){return e(e.s=7448)}),_N_E=e.O()}]);